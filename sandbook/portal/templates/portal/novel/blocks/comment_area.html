<div id="comment-area">
  <div class="title">
    <h3>评论区</h3>
  </div>
  <div class="row">
    <div class="col-md-8 ml-auto mr-auto">
      {% with comments=object_list %}
        <div class="media-area">
          <h3 class="text-center"> {{ novel.name }}的书评 <br>
            <small>- 共{{ comment_counts }}条 -</small>
          </h3>
          {% for comment in comments %}
            {% with comment_user=comment.user %}
              {% include 'portal/novel/blocks/comment.html' %}
            {% endwith %}
          {% endfor %}
          {#        <div class="media">#}
          {#          <a class="float-left" href="#">#}
          {#            <div class="avatar">#}
          {#              <img class="media-object" alt="Tim Picture" src="./assets/img/faces/marc.jpg">#}
          {#            </div>#}
          {#          </a>#}
          {#          <div class="media-body">#}
          {#            <h4 class="media-heading">John Camber#}
          {#              <small>· Yesterday</small>#}
          {#            </h4>#}
          {#            <p>Hello guys, nice to have you on the platform! There will be a lot of great stuff coming soon. We will#}
          {#              keep you posted for the latest news.</p>#}
          {#            <p> Don't forget, You're Awesome!</p>#}
          {#            <div class="media-footer">#}
          {#              <a href="#pablo" class="btn btn-primary btn-link float-right" rel="tooltip" title=""#}
          {#                 data-original-title="Reply to Comment">#}
          {#                <i class="material-icons">reply</i> Reply#}
          {#              </a>#}
          {#              <a href="#pablo" class="btn btn-link btn-secondary float-right">#}
          {#                <i class="material-icons">favorite</i> 25#}
          {#              </a>#}
          {#            </div>#}
          {#            <div class="media">#}
          {#              <a class="float-left" href="#pablo">#}
          {#                <div class="avatar">#}
          {#                  <img class="media-object" alt="64x64" src="./assets/img/faces/avatar.jpg">#}
          {#                </div>#}
          {#              </a>#}
          {#              <div class="media-body">#}
          {#                <h4 class="media-heading">Tina Andrew#}
          {#                  <small>· 2 Days Ago</small>#}
          {#                </h4>#}
          {#                <p>Hello guys, nice to have you on the platform! There will be a lot of great stuff coming soon. We will#}
          {#                  keep you posted for the latest news.</p>#}
          {#                <p> Don't forget, You're Awesome!</p>#}
          {#                <div class="media-footer">#}
          {#                  <a href="#pablo" class="btn btn-primary btn-link float-right" rel="tooltip" title=""#}
          {#                     data-original-title="Reply to Comment">#}
          {#                    <i class="material-icons">reply</i> Reply#}
          {#                  </a>#}
          {#                  <a href="#pablo" class="btn btn-danger btn-link float-right">#}
          {#                    <i class="material-icons">favorite</i> 243#}
          {#                  </a>#}
          {#                </div>#}
          {#              </div>#}
          {#            </div>#}
          {#          </div>#}
          {#        </div>#}
          <div class="pagination-area my-5">
            {% if paginator.count > 0 %}
              <nav class="pagination-area" aria-label="Page navigation">
                <ul class="pagination justify-content-center text-center">
                  {# previous button #}
                  {% if page_obj.has_previous %}
                    <li class="page-item">
                      <a class="page-link" href="?page={{ page_obj.previous_page_number }}"
                         data-page="{{ page_obj.previous_page_number }}"
                         aria-label="Previous">&laquo;</a>
                    </li>
                  {% else %}
                    <li class="page-item disabled">
                      <a class="page-link" aria-label="Previous">&laquo;</a>
                    </li>
                  {% endif %}
                  {# page button #}
                  {% for i in paginator.page_range %}
                    {% if page_obj.number == i %}
                      <li class="page-item active" aria-current="page">
                        <span class="page-link">{{ i }} <span class="sr-only">current page</span></span></li>
                    {% else %}
                      <li class="page-item">
                        <a class="page-link" href="?page={{ i }}" data-page="{{ i }}">{{ i }}</a>
                      </li>
                    {% endif %}
                  {% endfor %}
                  {# next button #}
                  {% if page_obj.has_next %}
                    <li class="page-item">
                      <a class="page-link" href="?page={{ page_obj.next_page_number }}"
                         data-page="{{ page_obj.next_page_number }}">&raquo;</a>
                    </li>
                  {% else %}
                    <li class="page-item disabled">
                      <span class="page-link">&raquo;</span>
                    </li>
                  {% endif %}
                </ul>
              </nav>
            {% endif %}
          </div>
        </div>
      {% endwith %}

      <div class="media media-post mb-5">
        <a class="author float-left" href="#">
          <div class="avatar">
            <img class="media-object" alt="64x64" src="
                {% if request.user.is_authenticated %}{{ request.user.avatar.url }}{% else %}{{ MEDIA_URL }}default/avatars/user.jpg{% endif %}">
          </div>
        </a>
        <div class="media-body">
          <form id="comment-post-form" method="post" action="{% url 'portal:novel_comment_create' novel.id %}">
            {% csrf_token %}
            <div>
              <span class="bmd-form-group">
              <input class="form-control comment-title" name="title" placeholder="标题" required>
            </span>
            </div>
            <div>
              <span class="bmd-form-group">
              <textarea class="form-control" name="content" placeholder="对作者说些什么吧……" rows="6" required></textarea>
            </span>
            </div>

            <div class="media-footer">
              <button class="btn btn-primary btn-wd float-right">发布</button>
            </div>
          </form>

        </div>

      </div> <!-- end media-post -->

    </div>
  </div>
</div>
